(()=>{"use strict";function e(e){return Math.round(1.8*(e-273.15)+32)}function t(e){return Math.round(e-273.15)}function n(e){const t=new Date(1e3*e);return`${t.getHours()}:${t.getMinutes()}`}const i=document.querySelector("body"),o=document.querySelector("#search"),r=document.querySelector(".fa-search"),a=document.querySelector(".swap"),c=document.querySelector(".city"),s=document.querySelector(".temperature"),u=document.querySelector(".description"),l=document.querySelector(".high"),d=document.querySelector(".feels-like"),p=document.querySelector(".sunrise"),g=document.querySelector(".low"),m=document.querySelector(".wind"),y=document.querySelector(".sunset");let h=null,k=!0;async function f(){h=await async function(e){try{const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=3833c6d79e4ea95a0cd4c11bdfcd0b3d`,{mode:"cors"}),n=await t.json();return{weather:n.main.temp,high:n.main.temp_max,low:n.main.temp_min,feels_like:n.main.feels_like,wind_speed:n.wind.speed,wind_direction:n.wind.deg,sunrise:n.sys.sunrise,sunset:n.sys.sunset,name:n.name,description:n.weather[0].description,main:n.weather[0].main}}catch(e){const t=document.querySelector("body"),n=document.querySelector(".main-info"),i=document.querySelector(".sub-info"),o=document.querySelector(".city"),r=document.querySelector("#search");t.style.background="#94bbe9",n.childNodes.forEach((e=>{e.innerText=""})),i.childNodes.forEach((e=>{e.innerText=""})),o.innerText="Invalid City",r.value="",console.log("Error getting weather information")}}(o.value),w(h),async function(e){try{if("Rain"==e){const e=await fetch("https://api.giphy.com/v1/gifs/gRnSZSRzOJeG4?api_key=koP7TY6OFHNHq72ImPPjEvbtpi31CC5X",{mode:"cors"}),t=await e.json();i.style.background=`url(${t.data.images.original.url})`,i.style.backgroundRepeat="no-repeat",i.style.backgroundSize="cover"}else if("Thunder"==e){const e=await fetch("https://api.giphy.com/v1/gifs/3o6gDYJBQLIHFZoWL6?api_key=koP7TY6OFHNHq72ImPPjEvbtpi31CC5X",{mode:"cors"}),t=await e.json();i.style.background=`url(${t.data.images.original.url})`,i.style.backgroundRepeat="no-repeat",i.style.backgroundSize="cover"}else if("Drizzle"==e){const e=await fetch("https://api.giphy.com/v1/gifs/xT9GEOg09OuResnZ6g?api_key=koP7TY6OFHNHq72ImPPjEvbtpi31CC5X",{mode:"cors"}),t=await e.json();i.style.background=`url(${t.data.images.original.url})`,i.style.backgroundRepeat="no-repeat",i.style.backgroundSize="cover"}else if("Snow"==e){const e=await fetch("https://api.giphy.com/v1/gifs/Xi2Xu0MejhsUo?api_key=koP7TY6OFHNHq72ImPPjEvbtpi31CC5X",{mode:"cors"}),t=await e.json();i.style.background=`url(${t.data.images.original.url})`,i.style.backgroundRepeat="no-repeat",i.style.backgroundSize="cover"}else if("Clear"==e){const e=await fetch("https://api.giphy.com/v1/gifs/u01ioCe6G8URG?api_key=koP7TY6OFHNHq72ImPPjEvbtpi31CC5X",{mode:"cors"}),t=await e.json();i.style.background=`url(${t.data.images.original.url})`,i.style.backgroundRepeat="no-repeat",i.style.backgroundSize="cover"}else if("Clouds"==e){const e=await fetch("https://api.giphy.com/v1/gifs/qq5gwamAHVofm?api_key=koP7TY6OFHNHq72ImPPjEvbtpi31CC5X",{mode:"cors"}),t=await e.json();i.style.background=`url(${t.data.images.original.url})`,i.style.backgroundRepeat="no-repeat",i.style.backgroundSize="cover"}else{const e=await fetch("https://api.giphy.com/v1/gifs/BiKbcxCt1y49dgtmzo?api_key=koP7TY6OFHNHq72ImPPjEvbtpi31CC5X",{mode:"cors"}),t=await e.json();i.style.background=`url(${t.data.images.original.url})`,i.style.backgroundRepeat="no-repeat",i.style.backgroundSize="cover"}}catch(e){console.log("Error loading gif")}}(h.main),o.value=""}function w(i){var o,r,a;c.innerText=`${i.name}`,u.innerText=`${o=i.description,o.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}`,m.innerText=`Wind Speed: ${a=i.wind_speed,Math.round(2.237*a)} mph ${r=i.wind_direction,r>11.25&&r<56.25?"NE":r>78.75&&r<101.25?"E":r>101.25&&r<146.25?"SE":r>146.25&&r<191.25?"S":r>191.25&&r<236.25?"SW":r>236.25&&r<281.25?"W":r>281.25&&r<326.25?"NW":"N"}`,p.innerText=`Sunrise: ${n(i.sunrise)}`,y.innerText=`Sunset: ${n(i.sunset)}`,k&&(s.innerText=`${e(i.weather)}° F`,l.innerText=`High: ${e(i.high)}° F`,g.innerText=`Low: ${e(i.low)}° F`,d.innerText=`Feels Like: ${e(i.feels_like)}° F`),k||(s.innerText=`${t(i.weather)}° C`,l.innerText=`High: ${t(i.high)}° C`,g.innerText=`Low: ${t(i.low)}° C`,d.innerText=`Feels Like: ${t(i.feels_like)}° C`)}o.addEventListener("keypress",(e=>{"Enter"==e.code&&(f().catch((e=>{})),e.preventDefault())})),r.addEventListener("click",(e=>{f().catch((e=>{}))})),a.addEventListener("click",(e=>{"F"==a.innerText?(a.innerText="C",k=!1,w(h)):(a.innerText="F",k=!0,w(h))}))})();